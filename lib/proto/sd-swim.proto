/**
 * Supported message types
 */
enum MessageType {
  JOIN = 0;
  UPDATE_JOIN = 1;
  PING = 2;
  PING_REQ = 3;
  SYNC = 4;
  ACK = 5;
  UPDATE = 6;
}

message Target {
  required string host = 1;
  optional int32 port = 2;
}

/**
 * SD-SWIM message
 */
message Msg {
  required MessageType type = 1;
  optional Target target = 2;
  optional string token = 3;
  required string payload = 4;
}
